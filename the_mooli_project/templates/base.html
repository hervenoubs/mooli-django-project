{% load i18n %}
{% load static %}
{% get_current_language as language_code %}
<!DOCTYPE html>
<html lang="{{ language_code }}">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="description" content="Mooli Bootstrap 4x admin is super flexible, powerful, clean & modern responsive admin dashboard with unlimited possibilities.">
    <meta name="author" content="GetBootstrap, design by: puffintheme.com">
    <title>{% block title %}Mooli{% endblock %}</title>
    <link rel="icon" href="{% static 'assets/images/favicon.ico' %}" type="image/x-icon">
    <!-- Vendor CSS -->
    <link rel="stylesheet" href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/vendor/font-awesome/css/font-awesome.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/vendor/animate-css/vivify.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/vendor/chartist/css/chartist.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/vendor/chartist-plugin-tooltip/chartist-plugin-tooltip.css' %}">
    <link rel="stylesheet" href="{% static 'assets/vendor/c3/c3.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/vendor/toastr/toastr.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/vendor/jvectormap/jquery-jvectormap-2.0.3.min.css' %}">
    <!-- Main CSS -->
    <link rel="stylesheet" href="{% static 'assets/css/mooli.min.css' %}">
    <!-- Fallback to hide loader -->
    <style>
        .page-loader-wrapper {
            transition: opacity 0.5s;
        }
        .page-loader-wrapper.hidden {
            opacity: 0;
            display: none;
        }
    </style>
    {% block extra_css %}{% endblock %}
</head>
<body class="theme-green">
    <div id="body">
        <!-- Page Loader -->
        <div class="page-loader-wrapper">
            <div class="loader">
                <div class="mt-3"><img src="{% static 'assets/images/icon.svg' %}" width="40" height="40" alt="Mooli"></div>
                <p>{% trans "Please wait..." %}</p>
            </div>
        </div>
        <!-- Overlay For Sidebars -->
        <div class="overlay"></div>
        <div id="wrapper">
            {% block navbar %}
                {% include 'partials/navbar.html' %}
            {% endblock %}
            {% block sidebar %}
                {% include 'partials/sidebar.html' %}
            {% endblock %}
            <div id="main-content">
                <div class="container-fluid">
                    {% block content %}
                    {% endblock %}
                </div>
            </div>
        </div>
        <!-- JavaScript -->
        <script src="{% static 'assets/bundles/libscripts.bundle.js' %}"></script>
        <script src="{% static 'assets/bundles/vendorscripts.bundle.js' %}"></script>
        <script src="{% static 'assets/bundles/flotscripts.bundle.js' %}"></script>
        <script src="{% static 'assets/bundles/c3.bundle.js' %}"></script>
        <script src="{% static 'assets/bundles/apexcharts.bundle.js' %}"></script>
        <script src="{% static 'assets/bundles/jvectormap.bundle.js' %}"></script>
        <script src="{% static 'assets/vendor/toastr/toastr.js' %}"></script>
        <script src="{% static 'assets/bundles/mainscripts.bundle.js' %}"></script>
        <script>
            // Fallback to hide loader after 2 seconds
            document.addEventListener('DOMContentLoaded', function() {
                setTimeout(function() {
                    const loader = document.querySelector('.page-loader-wrapper');
                    if (loader) {
                        loader.classList.add('hidden');
                    }
                }, 2000);
            });
        </script>
        {% block extra_js %}{% endblock %}
    </div>
</body>
</html>